{% if True %}
<a href="sign-up-and-log-in">
  <button>
    Log in
  </button>
</a>
<a href="sign-up-and-log-in">
  <button>
    Sign up
  </button>
</a>
{% else %}
    Logged in as David
    <button>
      Log out
    </button>
{% endif %}

<form action="add-entry" method="POST">
  {% csrf_token %}
  Word:<br>
  <input type="text" name="word">
  <br>
  Description:<br>
  <input type="text" name="description">
  <br>
  <input type="submit" value="Add Word">
</form>

<h1> Other Users </h1>
{% if users %}
<ul>
  {% for user in users %}
  <li> 
    <a href="users/{{ user }}"> 
      {{ user }} 
    </a>
  </li>
  {% endfor %}
</ul>
{% else %}
No other users.
{% endif %}

<form action="/" style="display:inline">
  <input type="text" name="sort-field" value="word" style="display:none;">
  <input type="submit" value="Sort Alphabetically">
</form>  

<form action="/" style="display:inline">
  <input type="text" name="sort-field" value="-entry_date" style="display:none;">
  <input type="submit" value="Sort by Entry Date">
</form>

<form action="/" style="display:inline">
  <input type="text" name="sort-field" value="skill_rating" style="display:none;">
  <input type="submit" value="Sort by Progress">
</form>

<form action="/" style="display:inline">
  <input type="text" name="sort-field" value="-popularity_rating" style="display:none;">
  <input type="submit" value="Sort by Popularity">
</form>

<form action="/" style="margin-bottom:1px">
  <input type="text" name="tag">
  <input type="submit" value="Filter by Tag">
</form>

<form action="/">
  <input type="text" name="keyword">
  <input type="submit" value="Search">
</form>

{% if words %}
    <ul>
      {% for word in words %}
      <div style="border:1px solid white; margin-top:20px; margin-bottom:3px;">
      {% if word.popularity_rating == 0%}
          {% load staticfiles %}
          <div style="width:38px; float:left;">
	    <a href="upvote/{{ word.id }}">
	      <img src="{% static "vocab/up-arrow.png" %}" />
	    </a>
	    <img src="{% static "vocab/blob.png" %}" style="margin-left: 12px; margin-right: auto;"/>
	    <a href="downvote/{{ word.id }}">
	      <img src="{% static "vocab/down-arrow.png" %}" />
	    </a>
	  </div>
      {% elif word.popularity_rating > 0 %}
          <div style="width:38px; float:left;">
	    <a href="middlevote/{{ word.id }}">
              <img src="{% static "vocab/up-arrow2.png" %}"/>
	    </a>
	  </div>
      {% else %}
          <div style="width:38px; float:left;">
	    <a href="middlevote/{{ word.id }}">	  
              <img src="{% static "vocab/down-arrow2.png" %}"/>
	    </a>
	  </div>
      {% endif %}
      <li style="margin-left: 15px; margin-top:30px; margin-bottom:auto; display: inline;">
	<b>{{ word.word }}</b>: <span class="description" id="{{ word.id }}"> {{ word.brief_description }} </span>
	<br>
	{% for key, tag_list in tags.items %}
	{% if key == word and tag_list %}
	<p style="display: inline; margin-left: 15px;"> Tags: </p>
	<ul style="display: inline;">
	  {% for tag in tag_list %}
	  <li style="display: inline;">
	    <button style="background-color: LightBlue;">
	      {{ tag.name }}
	    </button>
	  </li>
	  {% endfor %}
	</ul>
	{% endif %}
	{% endfor %}
	<br>
	<div style="clear:both">
	</div>
	<form action="remove-entry", method="POST" style="display: inline;"> 
	  {% csrf_token %}
	  <input type="text" name="id", value="{{ word.id }}" style="display: none;">
	  <input type="submit" value="Remove">
	</form>
	
	<!-- <button type="button" onclick="document.getElementById({{ word.id }}).style.visibility = 'visible';">Show</button> -->
	<form action="edit-entry/{{ word.id }}" style="display: inline;">
	  <input type="submit" value="Edit">
	</form>

	<form action="../comment/{{ word.id }}" style="margin-bottom: 1px">
	  <input type="text", name="content">
	  <input type="submit" value="Submit Comment"> 
	</form>

	<form action="add-tag/{{ word.id }}">
	  <input type="text", name="tag">
	  <input type="submit", value="Add Tag">
	</form>
	
      </li>
      {% for key, comment_list in comments.items %}
      {% if key == word %}
      {% for comment in comment_list %}
      <p>
      	{{ comment.author }}, {{ comment.entry_date }}: {{ comment.content }}
      </p>
      {% endfor %}
      {% endif %}
      {% endfor %}
      </div>

{% endfor %}
    </ul>
{% else %}
    <p>No words are available.</p>
{% endif %}

